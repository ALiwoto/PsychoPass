<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <meta content="no-referrer" name="referrer"/>
  <meta content="default-src 'none'; style-src 'self'" http-equiv="content-security-policy"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <!-- <link rel="canonical" href="https://blankx.gitlab.io/methods/bans.html" /> -->
  <meta content="dark" name="color-scheme"/>
  <meta content="#15A4E9" name="theme-color"/>
  <title>
   Ban Methods
  </title>
  <link crossorigin="anonymous" href="../style.css" rel="stylesheet"/>
  <link crossorigin="anonymous" href="../pygments.css" rel="stylesheet"/>
 </head>
 <body>
  <h1>
   Ban Methods
  </h1>
  <div class="head">
   <a href="../">
    home
   </a>
   |
   <a href="./">
    methods
   </a>
  </div>
  <h3>
   Table of Contents:
  </h3>
  <ul>
   <li>
    <a href="#ban">
     /ban
    </a>
   </li>
   <li>
    <a href="#multiban">
     /multiban
    </a>
   </li>
   <li>
    <a href="#multiunban">
     /multiunban
    </a>
   </li>
   <li>
    <a href="#removeban">
     /removeBan
    </a>
   </li>
  </ul>
  <h2 id="ban">
   <code>
    /ban
   </code>
   <a class="permalink" href="#ban">
    ¶
   </a>
  </h2>
  <p>
   Bans a user
  </p>
  <h3>
   URL Query Parameters
  </h3>
  <table>
   <tr>
    <th>
     Key
    </th>
    <th>
     Value
    </th>
   </tr>
   <tr>
    <td>
     token
    </td>
    <td>
     An inspector or owner token to authorize this request
    </td>
   </tr>
   <tr>
    <td>
     userid
    </td>
    <td>
     User ID of the user to ban
    </td>
   </tr>
   <tr>
    <td>
     reason
    </td>
    <td>
     The ban reason
    </td>
   </tr>
   <tr>
    <td>
     message
    </td>
    <td>
     Optional contents of a message accompanying the ban
    </td>
   </tr>
   <tr>
    <td>
     source
    </td>
    <td>
     Optional link (to a message?) accompanying the ban
    </td>
   </tr>
   <tr>
    <td>
     source-group
    </td>
    <td>
     Optional link to a group accompanying the ban
    </td>
   </tr>
   <tr>
    <td>
     bot
    </td>
    <td>
     Optional parameter to specify if the user being banned is a bot
    </td>
   </tr>
  </table>
  <h3>
   Example response
  </h3>
  <div class="highlight">
   <pre><span></span><code><span class="p">{</span>
    <span class="nt">"success"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">"result"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"previous_ban"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="nt">"current_ban"</span><span class="p">:</span> <span class="p">{</span>
            <span class="nt">"user_id"</span><span class="p">:</span> <span class="mi">792109647</span><span class="p">,</span>
            <span class="nt">"banned"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="nt">"reason"</span><span class="p">:</span> <span class="s2">"Keeps slapping misery's ass"</span><span class="p">,</span>
            <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"/slap Misery's ass"</span><span class="p">,</span>
            <span class="nt">"ban_source_url"</span><span class="p">:</span> <span class="s2">"https://t.me/AnimeKaizoku/6168557"</span><span class="p">,</span>
            <span class="nt">"banned_by"</span><span class="p">:</span> <span class="mi">516124792</span><span class="p">,</span>
            <span class="nt">"crime_coefficient"</span><span class="p">:</span> <span class="mi">286</span><span class="p">,</span>
            <span class="nt">"date"</span><span class="p">:</span> <span class="s2">"2021-11-14 at 17:54:17"</span><span class="p">,</span>
            <span class="nt">"ban_flags"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s2">"CUSTOM"</span>
            <span class="p">],</span>
            <span class="nt">"is_bot"</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nt">"error"</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre>
  </div>
  <h2 id="multiban">
   <code>
    /multiban
   </code>
   <a class="permalink" href="#multiban">
    ¶
   </a>
  </h2>
  <p>
   Bans up to 50,000 users at once. Unlike other methods, JSON must also be streamed via the request body
  </p>
  <h3>
   URL Query Parameters
  </h3>
  <table>
   <tr>
    <th>
     Key
    </th>
    <th>
     Value
    </th>
   </tr>
   <tr>
    <td>
     token
    </td>
    <td>
     An inspector or owner token to authorize this request
    </td>
   </tr>
  </table>
  <h3>
   Request JSON
  </h3>
  <table>
   <tr>
    <th>
     Key
    </th>
    <th>
     Type
    </th>
    <th>
     Info
    </th>
   </tr>
   <tr>
    <td>
     users
    </td>
    <td>
     <code>
      MultiBanUserInfo[]
     </code>
    </td>
    <td>
     List of users and data of each ban
    </td>
   </tr>
  </table>
  <h3>
   MultiBanUserInfo
  </h3>
  <table>
   <tr>
    <th>
     Key
    </th>
    <th>
     Type
    </th>
    <th>
     Info
    </th>
   </tr>
   <tr>
    <td>
     user_id
    </td>
    <td>
     <code>
      int
     </code>
    </td>
    <td>
     User ID of the user to be banned
    </td>
   </tr>
   <tr>
    <td>
     reason
    </td>
    <td>
     <code>
      str
     </code>
    </td>
    <td>
     Reason for ban
    </td>
   </tr>
   <tr>
    <td>
     message
    </td>
    <td>
     <code>
      str | null
     </code>
    </td>
    <td>
     Optional contents of a message accompanying the ban
    </td>
   </tr>
   <tr>
    <td>
     source
    </td>
    <td>
     <code>
      str | null
     </code>
    </td>
    <td>
     Optional link (to a message?) accompanying the ban
    </td>
   </tr>
   <tr>
    <td>
     source_group
    </td>
    <td>
     <code>
      str | null
     </code>
    </td>
    <td>
     Optional link to a group accompanying the ban
    </td>
   </tr>
   <tr>
    <td>
     bot
    </td>
    <td>
     <code>
      bool | null
     </code>
    </td>
    <td>
     Optional parameter to specify if the user being banned is a bot
    </td>
   </tr>
  </table>
  <h3>
   Example request
  </h3>
  <pre><code>POST /multiban?token=516124792:Q2xvc2UgeW91ciBleWVzLCB5b3UnbGwgYmUgaGVyZSBzb29uCkljaGkga25lZSBzYW4gY2hpIGdvIGZ1bgpbLi4uXQpPWUFTVU1JIE9ZQVNVTUkKKHNyeSk
</code></pre>
  <div class="highlight">
   <pre><span></span><code><span class="p">{</span>
    <span class="nt">"users"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">"user_id"</span><span class="p">:</span> <span class="mi">558772678</span><span class="p">,</span>
            <span class="nt">"reason"</span><span class="p">:</span> <span class="s2">"Fulfilling sawada's request to make slap take in arguments"</span><span class="p">,</span>
            <span class="nt">"source_group"</span><span class="p">:</span> <span class="s2">"https://t.me/OnePunchDev"</span><span class="p">,</span>
            <span class="nt">"source"</span><span class="p">:</span> <span class="s2">"https://t.me/OnePunchDev/94226"</span><span class="p">,</span>
            <span class="nt">"message"</span><span class="p">:</span> <span class="s2">"/slap deez nuts"</span><span class="p">,</span>
            <span class="nt">"bot"</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">"user_id"</span><span class="p">:</span> <span class="mi">570787098</span><span class="p">,</span>
            <span class="nt">"reason"</span><span class="p">:</span> <span class="s2">"Keeps destroying servers"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre>
  </div>
  <h3>
   Example response
  </h3>
  <div class="highlight">
   <pre><span></span><code><span class="p">{</span>
    <span class="nt">"success"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">"result"</span><span class="p">:</span> <span class="s2">"Applying your multi-ban request in background"</span><span class="p">,</span>
    <span class="nt">"error"</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre>
  </div>
  <h2 id="multiunban">
   <code>
    /multiunban
   </code>
   <a class="permalink" href="#multiunban">
    ¶
   </a>
  </h2>
  <p>
   Unbans up to 50,000 users at once. Unlike other methods, JSON must also be streamed via the request body
  </p>
  <h3>
   URL Query Parameters
  </h3>
  <table>
   <tr>
    <th>
     Key
    </th>
    <th>
     Value
    </th>
   </tr>
   <tr>
    <td>
     token
    </td>
    <td>
     An inspector or owner token to authorize this request
    </td>
   </tr>
  </table>
  <h3>
   Request JSON
  </h3>
  <table>
   <tr>
    <th>
     Key
    </th>
    <th>
     Type
    </th>
    <th>
     Info
    </th>
   </tr>
   <tr>
    <td>
     users
    </td>
    <td>
     <code>
      int[]
     </code>
    </td>
    <td>
     List of user IDs to unban
    </td>
   </tr>
  </table>
  <h3>
   Example request
  </h3>
  <pre><code>POST /multiunban?token=558772678:d29uZGVyIGlmIGFueW9uZSBpcyByZWFkaW5nIHRoZXNlIGJsdXJicy4gYnR3LCBkb24ndCBjb3VudCBvbiB0b2tlbnMgYmVpbmcgZW5jb2RlZCB3IGI2NAo
</code></pre>
  <div class="highlight">
   <pre><span></span><code><span class="p">{</span>
    <span class="nt">"users"</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">214416808</span><span class="p">,</span>
        <span class="mi">570787098</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre>
  </div>
  <h3>
   Example response
  </h3>
  <div class="highlight">
   <pre><span></span><code><span class="p">{</span>
    <span class="nt">"success"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">"result"</span><span class="p">:</span> <span class="s2">"Applying your multi-unban request in background"</span><span class="p">,</span>
    <span class="nt">"error"</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre>
  </div>
  <h2 id="removeban">
   <code>
    /removeBan
   </code>
   <a class="permalink" href="#removeban">
    ¶
   </a>
  </h2>
  <p>
   Unbans a user
  </p>
  <h3>
   URL Query Parameters
  </h3>
  <table>
   <tr>
    <th>
     Key
    </th>
    <th>
     Value
    </th>
   </tr>
   <tr>
    <td>
     token
    </td>
    <td>
     An inspector or owner token to authorize this request
    </td>
   </tr>
   <tr>
    <td>
     userid
    </td>
    <td>
     User ID of the user to unban
    </td>
   </tr>
   <tr>
    <td>
     clear-history
    </td>
    <td>
     Optional parameter to unlock auto-appeal (recognized positive values: yes, on, true)
    </td>
   </tr>
  </table>
  <h3>
   Example response
  </h3>
  <div class="highlight">
   <pre><span></span><code><span class="p">{</span>
    <span class="nt">"success"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nt">"result"</span><span class="p">:</span> <span class="s2">"User was unbanned"</span><span class="p">,</span>
    <span class="nt">"error"</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</code></pre>
  </div>
 </body>
</html>
